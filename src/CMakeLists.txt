IF(UNIX)
  INCLUDE_DIRECTORIES( ${Boost_INCLUDE_DIR} )
  INCLUDE_DIRECTORIES( ${RMATH_INCLUDE_DIR} )
ENDIF(UNIX)

IF(WIN32)
  ADD_DEFINITIONS(-DWIN32)
ENDIF(WIN32)

IF(UNIX)
  SET(TOPS_DEP ${BOOST_DATE_TIME_LIBRARY} ${BOOST_REGEX_LIBRARY} ${RMATH_LIBRARY} ${Boost_SYSTEM_LIBRARY} ${Boost_FILESYSTEM_LIBRARY})
ENDIF(UNIX)


include_directories(../lang/src .)


ADD_LIBRARY(ToPS STATIC Symbol Alphabet  util SparseMatrix MultipleAlignment GHMMStates   DiscreteIIDModel  VariableLengthMarkovChain InhomogeneousMarkovChain  HiddenMarkovModel ConfigurationReader DiscreteIIDModelCreator  VariableLengthMarkovChainCreator InhomogeneousMarkovChainCreator  HiddenMarkovModelCreator GeneralizedHiddenMarkovModelCreator  SequenceEntry SequenceFactory GeneralizedHiddenMarkovModel TrainVariableLengthMarkovChain TrainFixedLengthMarkovChain TrainInterpolatedMarkovChain TrainHMMBaumWelch TrainHMMMaximumLikelihood ContextTree TrainWeightArrayModel BayesianInformationCriteria TrainVariableLengthInhomogeneousMarkovChain ProbabilisticModelCreatorClient AkaikeInformationCriteria TrainPhasedMarkovChain FactorableModel DecodableModel InhomogeneousFactorableModel SmoothedHistogramKernelDensity FixedSequenceAtPosition FixedSequenceAtPositionCreator PhasedRunLengthDistribution PhasedRunLengthDistributionCreator SmoothedHistogramStanke TrainPhasedMarkovChainContextAlgorithm RemoveSequenceFromModel SmoothedHistogramBurge SequenceFormat TrainDiscreteIIDModel TargetModel TargetModelCreator ReverseComplementDNA ReverseComplementDNACreator ProbabilisticModelParameter TrainGHMMTransitions BernoulliModelCreator TrainInterpolatedPhasedMarkovChain SimilarityBasedSequenceWeightingCreator SimilarityBasedSequenceWeighting TrainSimilarityBasedSequenceWeighting MultipleSequentialModelCreator MultipleSequentialModel StoreLoadedModel PairHiddenMarkovModel PairHiddenMarkovModelCreator TrainPHMMBaumWelch MaximumDependenceDecomposition NeuralNetworkModel NeuralNetworkModelCreator
crossplatform.hpp ProbabilisticModelConfiguration ProbabilisticModelParameterValue2
../lang/src/ASTNode ../lang/src/PropertyNode ../lang/src/KeyNode ../lang/src/ValueNode ../lang/src/StringNode ../lang/src/ListNode ../lang/src/ConfigurationNode ../lang/src/IntegerNode ../lang/src/FloatNode ../lang/src/ConditionalProbabilityNode ../lang/src/ConditionalProbabilityMapNode ../lang/src/ConditionNode ../lang/src/ProbabilityMapNode ../lang/src/ProbabilityNode ../lang/src/parser ../lang/src/tokens ../lang/src/lang ../lang/src/ToPSLangVisitor ProfileHiddenMarkovModel ProfileHiddenMarkovModelCreator TrainProfileHMMMaxLikelihood TrainProfileHMMBaumWelch
Consensus
ChiSquare
MaximalDependenceDecomposition
MaximalDependenceDecompositionCreator
TrainMaximalDependenceDecomposition
)


TARGET_LINK_LIBRARIES(ToPS ${TOPS_DEP} ${TORCH_LIBRARIES})

# set_property(TARGET ToPS PROPERTY CXX_STANDARD 11)

install(TARGETS ToPS
        RUNTIME DESTINATION bin
        LIBRARY DESTINATION lib
        ARCHIVE DESTINATION lib/static )

install(FILES AkaikeInformationCriteria.hpp Alphabet.hpp BayesianInformationCriteria.hpp  ConfigurationReader.hpp ContextTree.hpp DecodableModel.hpp DegenerateDistribution.hpp FactorableModel.hpp FactorableModelPrefixSumArray.hpp DiscreteIIDModel.hpp DiscreteIIDModelCreator.hpp FixedSequenceAtPosition.hpp FixedSequenceAtPositionCreator.hpp GHMMStates.hpp GeneralizedHiddenMarkovModel.hpp GeneralizedHiddenMarkovModelCreator.hpp HiddenMarkovModel.hpp HiddenMarkovModelCreator.hpp InhomogeneousFactorableModel.hpp InhomogeneousMarkovChain.hpp InhomogeneousMarkovChainCreator.hpp MultipleAlignment.hpp NullPrefixSumArray.hpp PhasedFactorableModelEvaluationAlgorithm.hpp PhasedRunLengthDistribution.hpp PhasedRunLengthDistributionCreator.hpp PrefixSumArray.hpp ProbabilisticModel.hpp ProbabilisticModelCreator.hpp ProbabilisticModelCreatorClient.hpp ProbabilisticModelDecorator.hpp ProbabilisticModelParameter.hpp RemoveSequenceFromModel.hpp ReverseComplementDNA.hpp ReverseComplementDNACreator.hpp Sequence.hpp SequenceEntry.hpp SequenceFactory.hpp SequenceFormat.hpp SmoothedHistogramBurge.hpp SmoothedHistogramKernelDensity.hpp SmoothedHistogramStanke.hpp SparseMatrix.hpp Symbol.hpp TargetModel.hpp TargetModelCreator.hpp TrainDiscreteIIDModel.hpp TrainFixedLengthMarkovChain.hpp  TrainInterpolatedMarkovChain.hpp TrainHMMBaumWelch.hpp TrainHMMMaximumLikelihood.hpp TrainPhasedMarkovChain.hpp TrainInterpolatedPhasedMarkovChain.hpp TrainPhasedMarkovChainContextAlgorithm.hpp TrainVariableLengthInhomogeneousMarkovChain.hpp TrainVariableLengthMarkovChain.hpp TrainWeightArrayModel.hpp VariableLengthMarkovChain.hpp VariableLengthMarkovChainCreator.hpp util.hpp TrainGHMMTransitions.hpp BernoulliModelCreator.hpp SimilarityBasedSequenceWeighting.hpp SimilarityBasedSequenceWeightingCreator.hpp TrainSimilarityBasedSequenceWeighting.hpp MultipleSequentialModel.hpp MultipleSequentialModelCreator.hpp StoreLoadedModel.hpp PairHiddenMarkovModel.hpp PairHiddenMarkovModelCreator.hpp TrainPHMMBaumWelch.hpp MaximumDependenceDecomposition.hpp ProfileHiddenMarkovModel.hpp ProfileHiddenMarkovModelCreator.hpp TrainProfileHMMMaxLikelihood.hpp TrainProfileHMMBaumWelch.hpp NeuralNetworkModel.hpp NeuralNetworkModelCreator.hpp DESTINATION include/tops)



# ignore BOOST deprecated headers
  add_definitions("-DBOOST_ALLOW_DEPRECATED_HEADERS")
  add_definitions("-DBOOST_BIND_GLOBAL_PLACEHOLDERS")
  add_definitions("-BOOST_TIMER_ENABLE_DEPRECATED")